<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="mapper.member"> 	
	<select id="Login" resultType="memberDTO" parameterType="memberDTO">
		<![CDATA[
			SELECT * 
			FROM P_MEMBER 
			WHERE ID = #{id} AND PWD = #{pwd}
		]]>	
	</select>
	
	<!-- 아이디 찾기 -->
	<select id="find_id" parameterType="String" resultType="memberDTO">
		<![CDATA[
			SELECT * 
			FROM P_MEMBER 
			WHERE NICK_NM = #{nick_nm} AND PWD = #{pwd}
		]]>	
	</select>
	
	<!-- 구글 로그인 -->
	<select id="readMemberWithIDPW" resultType="memberDTO">
		<![CDATA[
			select * from P_MEMBER where id=#{id}
		]]>	
	</select>
	
	<!-- 구글 로그인 데이터 넘기기 -->
	<insert id="joinMemberByGoogle" parameterType="java.util.Map">
		<![CDATA[
			insert into P_MEMBER (id, pwd,  nick_nm, email, join_Date, grade)
			values (#{id}, #{pwd}, #{nick_nm}, #{email}, #{join_Date}, #{grade})
		]]>	
	</insert>
</mapper>